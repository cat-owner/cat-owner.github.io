---
layout:     post
title:      "Hello Mysql"
subtitle:   "聊一聊MVCC"
date:       2023-06-15
author:     "王元存"
header-img: "img/post-bg-os-metro.jpg"
catalog: true
tags:
- mysql
- 事物管理
---

引言
-----
今天和大家一起聊一聊mysql中的MVCC机制,如果没有看过官方文档的，
建议先看一下官方的文档 [Mysql官方文档MVCC](https://dev.mysql.com/doc/refman/8.0/en/innodb-multi-versioning.html) 

好了废话不多说，我们正式开始 

***「阅读大概需要5分钟左右」***




什么是MVCC?
------
MVCC全称为multiversion concurrency control,翻译过来的就是多版本并发控制。

### **这个多版本并发控制怎么理解？**
<p>从字面意思上来说就是通过数据多个版本的管理来处理并发问题。这说的是不是有点抽象，
如果觉得还不能够理解的话，可以暂时不要纠结这个名字的意思, 我们来聊一聊这个MVCC是干嘛的  </p>

MVCC的出现主要是为了解决在 ***innodb存储引擎***下MySql并发读写的性能问题。这个地方有个重点就是他只是针对innodb这种
存储引擎，对MyISAM这种存储引擎没有效果的，因为对于MyISAM这个存储引擎来说，他的锁机制是 ***「只支持表级别的锁，当
写入数据时，数据库会锁整个表」***
<p>
当数据库锁整个表时,在***事物隔离级别***中属于串行，串行就不存在什么并发处理能力了。而MVCC就是为了解决数据库并发读写性能问题
的同时还能保证事物的一致性。这个时候你明白了MVCC是干嘛的了吗？
</p>

### **MVCC可以解决事物的哪些隔离级别问题？**

首先我们先来聊一聊**什么是事物?**
<p>
它存在的意义就是为了保证所有的数据都是符合期望的，且相互关联的数据之间不会产生矛盾，即数据状态的一致性(Consistency).按照数据库的
经典理论，要达成这个目标，需要三方面共同努力来保证。
</p>

- 原子性：这个理解起来很简单就是操作要么成功要么失败，不存在部分成功部分失败的情况
- 一致性：
- 隔离性
- 永久性















